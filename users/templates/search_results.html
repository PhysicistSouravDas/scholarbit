{% extends 'base.html' %}
{% load markdown_extras %}

{% block title %}Search -  {% endblock title %}

{% block content %}
<div class="container-fluid">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">
                You searched for "{{ query }}"!
            </h5>
            <h6 class="card-subtitle mb-2 text-muted">
                Search Tips
            </h6>
            <ol>
                <li><p class="card-text">Add <code>@</code> to search for a user (e.g: <code>@UserName</code>).</p></li>
                <li><p class="card-text">Add important keywords with spaces (e.g: <code>Physics Books</code>).</p></li>
                <li><p class="card-text">Add <code>-</code> sign to exclude something from search (e.g: <code>Physics -electronics</code>).</p></li>
            </ol>
        </div>
    </div>
    {% if search_count %}
        <strong>{{ search_count }}</strong>
    {% else %}
        <strong>Noting Found!</strong>
    {% endif %}
    {% if '@' not in query %}
        {% for article in search_list %}
            
                <a href="{% url 'article_detail' article.pk article.slug %}">{{ article.title }}</a><br>
                {{ article.body|safe|slice:":500" }} ...
            
        {% endfor %}
    {% else %}    
        {% for user in search_list %}
            {{ user.username }}  
        {% endfor %}
    {% endif %}
</div>        
{% endblock content %}